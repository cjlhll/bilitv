# 稍后观看列表开发计划

## 1. 数据模型层（Models.kt）
添加稍后观看相关的数据类：
- `ToviewResponse`: API响应包装类
- `ToviewData`: 稍后观看数据容器
- `ToviewItem`: 单个稍后观看视频项

## 2. ViewModel层（新建WatchLaterViewModel.kt）
创建稍后观看的ViewModel，实现：
- 加载稍后观看列表（调用API: `https://api.bilibili.com/x/v2/history/toview`）
- 删除稍后观看项（调用API: `https://api.bilibili.com/x/v2/history/toview/del`）
- 实现VideoGridStateManager接口以支持滚动和焦点管理
- 支持分页加载

## 3. UI层（修改MainScreen.kt）
在UserLoginScreen的稍后观看Tab中：
- 使用CommonVideoGrid组件显示视频列表
- 实现加载状态、错误状态、空状态的处理
- 支持点击视频跳转到详情页
- 支持删除稍后观看项

## 4. 集成到MainScreen
- 在MainScreen中实例化WatchLaterViewModel
- 将ViewModel传递给UserLoginScreen
- 实现稍后观看Tab切换时的数据加载

## 5. 测试
- 运行 `.\gradlew.bat assembleDebug` 编译测试
- 确保稍后观看列表能正常加载和显示